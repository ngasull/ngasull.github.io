<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>Articles | Nico&#x27;s Lab</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/67269c7d1e9da300.css" as="style"/><link rel="stylesheet" href="/_next/static/css/67269c7d1e9da300.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-8fa1640cc84ba8fe.js" defer=""></script><script src="/_next/static/chunks/framework-3b5a00d5d7e8d93b.js" defer=""></script><script src="/_next/static/chunks/main-11be7a5831576890.js" defer=""></script><script src="/_next/static/chunks/pages/_app-3b641619ed056464.js" defer=""></script><script src="/_next/static/chunks/814-f83b2571d190bfbd.js" defer=""></script><script src="/_next/static/chunks/pages/index-1f6c77b7e845398a.js" defer=""></script><script src="/_next/static/ove7atG6cNxhZsWdZj6EC/_buildManifest.js" defer=""></script><script src="/_next/static/ove7atG6cNxhZsWdZj6EC/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="ng-header"><h1>Nico&#x27;s lab</h1><h3 class="py-2 md:p-0">üî≠ üé∂ üï∫</h3><nav><a href="/">Blog</a> / <a href="/about">About</a> / <a href="/rss.xml">RSS</a> / <a href="/fr">üá´üá∑</a></nav></header><main aria-label="Content"><h1>Articles</h1><article><h3><a href="/blog/simply-efficiently-use-vim-multiple-files">üìñ How to simply use vim across multiple files</a></h3>Blog ¬ª Nov 2, 2019 ¬ª dev</article><article><h3><a href="/blog/making-music-programmable-again">üìñ Making music programmable again</a></h3>Blog ¬ª Feb 8, 2020 ¬ª music gamedev</article></main><footer class="mt-8 text-center"><p>Copyright ¬© 2019<!-- -->-2022<!-- --> <a href="/about">Nicolas¬†Gasull</a></p><address class="space-x-5"><a href="https://www.twitter.com/ngasull"><svg class="w-4 h-4 p-2 -m-2 align-text-top fill-current"><use xlink:href="/svg/icons.svg#twitter"></use></svg></a><a href="https://www.github.com/ngasull"><svg class="w-4 h-4 p-2 -m-2 align-text-top fill-current"><use xlink:href="/svg/icons.svg#github"></use></svg></a><a href="https://stackoverflow.com/users/2219133/ngasull"><svg class="w-4 h-4 p-2 -m-2 align-text-top fill-current"><use xlink:href="/svg/icons.svg#stackoverflow"></use></svg></a><a href="https://www.linkedin.com/in/nicolasgasull"><svg class="w-4 h-4 p-2 -m-2 align-text-top fill-current"><use xlink:href="/svg/icons.svg#linkedin"></use></svg></a><a href="/about"><svg class="w-4 h-4 p-2 -m-2 align-text-top fill-current"><use xlink:href="/svg/icons.svg#at"></use></svg></a><a href="/rss.xml"><svg class="w-4 h-4 p-2 -m-2 align-text-top fill-current"><use xlink:href="/svg/icons.svg#rss"></use></svg></a></address></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"locale":null,"articles":[{"date":"2019-11-02","slug":"simply-efficiently-use-vim-multiple-files","lang":"en","title":"How to simply use vim across multiple files","html":"\u003csection id=\"preamble\" aria-label=\"Preamble\"\u003e\u003cp\u003eVim provides its own \u003cstrong\u003eunique\u003c/strong\u003e way to edit code. Discerning what makes it really different helps a lot figuring out why so many developers love vim. This article attempts to summarize these core concepts and provides a reasonable set of tips for an efficient use of \u003cstrong\u003evim across multiple files\u003c/strong\u003e.\u003c/p\u003e\n\u003cp\u003eNowadays, developers that are invited to vim are being told to install all these cool plugins. Although most of these are very good, I believe \u003cstrong\u003eplugins make vim‚Äôs actual learning curve steeper\u003c/strong\u003e than it should be. Some plugins disguise vim into vscode, reminding features like \u003ca href=\"https://github.com/scrooloose/nerdtree\"\u003efile explorer toolbar\u003c/a\u003e or \u003ca href=\"https://github.com/mihaifm/bufstop\"\u003etabs\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eBecause vim is harder to grasp when beginning, limiting the number of plugins is crucial. With its core concepts only, \u003cstrong\u003evim already comes with great power and great responsibility\u003c/strong\u003e. People probably don‚Äôt accept this well enough, at least I didn‚Äôt and my resulting experience of vim has been years of trying to stick to it and falling back to another editor (or IDE). It‚Äôs time to transform this vim hassle into vim power!\u003c/p\u003e\n\u003caside class=\"admonition-block note\" role=\"note\"\u003e\u003ch6 class=\"block-title label-only\"\u003e\u003cspan class=\"title-label\"\u003eüìé Note: \u003c/span\u003e\u003c/h6\u003e\u003cp\u003eThis article assumes the reader already has basic vim knowledge. When mentioning commands, \u003ccode\u003e\u0026lt;C-key\u0026gt;\u003c/code\u003e means \u003ckbd class=\"keyseq\"\u003e\u003ckbd class=\"key\"\u003eCtrl\u003c/kbd\u003e+\u003ckbd class=\"key\"\u003ekey\u003c/kbd\u003e\u003c/kbd\u003e. Capitalization of letters is meaningful as it implies pressing \u003cem\u003eshift\u003c/em\u003e at the same time.\u003c/p\u003e\u003c/aside\u003e\u003c/section\u003e\u003cnav id=\"toc\" class=\"toc\" role=\"doc-toc\"\u003e\u003ch2 id=\"toc-title\"\u003eSummary\u003c/h2\u003e\u003col class=\"toc-list level-1\"\u003e\u003cli\u003e\u003ca href=\"#_buffers\"\u003eBuffers\u003c/a\u003e\u003col class=\"toc-list level-2\"\u003e\u003cli\u003e\u003ca href=\"#_opening_files\"\u003eOpening files\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"#_explore_files\"\u003eExplore files\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"#_navigating_across_buffers\"\u003eNavigating across buffers\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"#_closing_buffers\"\u003eClosing buffers\u003c/a\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"#_windows\"\u003eWindows\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"#_cheatsheet_tldr\"\u003eCheatsheet \u003cem\u003e(tl;dr)\u003c/em\u003e\u003c/a\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/nav\u003e\n\u003csection class=\"doc-section level-1\"\u003e\u003ch2 id=\"_buffers\"\u003eBuffers\u003c/h2\u003e\u003cp\u003eFirst of all, it‚Äôs time to \u003cstrong\u003eforget about tabs\u003c/strong\u003e. In vim, tabs are a power-user feature that may be useful for those who already master buffers and in very specific scenario. Buffers alone are more than enough. Also, no plugin will put vscode‚Äôs tabs in vim.\u003c/p\u003e\n\u003cp\u003eExperienced vim users often refer to navigating through files as \u003cem\u003eflowing through buffers\u003c/em\u003e. Indeed, when you need to access a piece of code, you just place your cursor in it to explore or edit it. There is \u003cstrong\u003eno need to care about which buffer is open and where it is\u003c/strong\u003e. We‚Äôll see that with just a few commands we are able to keep as many buffers open as we like while still keep editing efficiently!\u003c/p\u003e\n\u003csection class=\"doc-section level-2\"\u003e\u003ch3 id=\"_opening_files\"\u003eOpening files\u003c/h3\u003e\u003cp\u003e\u003cstrong\u003e\u003ccode\u003e:find path/file\u003c/code\u003e\u003c/strong\u003e opens \u003ccode\u003epath/file\u003c/code\u003e. \u003ccode\u003e:find\u003c/code\u003e supports quick file search if we enable it, so let‚Äôs run / add to .vimrc the following commands in order to get comfortable:\u003c/p\u003e\n\u003cdiv class=\"listing-block\"\u003e\u003cpre class=\"highlightjs highlight\"\u003e\u003ccode class=\"language-vim hljs\" data-lang=\"vim\"\u003e\u003cspan class=\"hljs-keyword\"\u003eset\u003c/span\u003e path+=*\n\u003cspan class=\"hljs-keyword\"\u003eset\u003c/span\u003e wildmenu\n\u003cspan class=\"hljs-comment\"\u003e\" Optionally ignore bulky folders:\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eset\u003c/span\u003e wildignore+=*/node_modules/*\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eWe‚Äôve just set up quick file search! Tab completion now finds files deep in current working directory. For example, \u003ccode\u003e:find foobar\u0026lt;Tab\u0026gt;\u003c/code\u003e or \u003ccode\u003e:find *.ht\u0026lt;Tab\u0026gt;\u003c/code\u003e will both find \u003ccode\u003esome/nested/dir/foobarbaz.html\u003c/code\u003e. If multiple files match, the \u003cem\u003ewildmenu\u003c/em\u003e we just enabled appears on top on the command line and more \u003ccode\u003e\u0026lt;Tab\u0026gt;\u003c/code\u003e presses rotate across matches.\u003c/p\u003e\u003c/section\u003e\n\u003csection class=\"doc-section level-2\"\u003e\u003ch3 id=\"_explore_files\"\u003eExplore files\u003c/h3\u003e\u003cp\u003eRunning \u003cstrong\u003e\u003ccode\u003e:find\u003c/code\u003e on a folder\u003c/strong\u003e opens \u003cem\u003enetrw\u003c/em\u003e, a simple yet efficient file explorer. It provides a tree view if you hit \u003ccode\u003el\u003c/code\u003e a few times! You can also create a new file by hitting \u003ccode\u003e%\u003c/code\u003e, delete with \u003ccode\u003eD\u003c/code\u003e and rename with \u003ccode\u003eR\u003c/code\u003e. Using \u003ccode\u003e:find\u003c/code\u003e alone goes to current file‚Äôs directory and \u003ccode\u003e:find .\u003c/code\u003e goes to current working directory.\u003c/p\u003e\u003c/section\u003e\n\u003csection class=\"doc-section level-2\"\u003e\u003ch3 id=\"_navigating_across_buffers\"\u003eNavigating across buffers\u003c/h3\u003e\u003cp\u003eA developer‚Äôs workflow often involves going back and forth in a code base. Although \u003ccode\u003e:find\u003c/code\u003e or \u003ca href=\"https://github.com/junegunn/fzf.vim\"\u003efzf\u003c/a\u003e are great for quickly opening files, we can go faster once they have already been opened in buffers.\u003c/p\u003e\n\u003cdiv class=\"ulist\"\u003e\u003cul\u003e\u003cli\u003e\u003ckbd class=\"keyseq\"\u003e\u003ckbd class=\"key\"\u003eCtrl\u003c/kbd\u003e+\u003ckbd class=\"key\"\u003e6\u003c/kbd\u003e\u003c/kbd\u003e swaps to last opened buffer\u003c/li\u003e\u003cli\u003e\u003ckbd class=\"keyseq\"\u003e\u003ckbd class=\"key\"\u003eCtrl\u003c/kbd\u003e+\u003ckbd class=\"key\"\u003eo\u003c/kbd\u003e\u003c/kbd\u003e moves the cursor to the previous location it last \u003cem\u003ejumped\u003c/em\u003e from\u003c/li\u003e\u003cli\u003e\u003ckbd class=\"keyseq\"\u003e\u003ckbd class=\"key\"\u003eCtrl\u003c/kbd\u003e+\u003ckbd class=\"key\"\u003ei\u003c/kbd\u003e\u003c/kbd\u003e moves the cursor to the next \u003cem\u003ejump\u003c/em\u003e\u003c/li\u003e\u003c/ul\u003e\u003c/div\u003e\n\u003cp\u003eThe two latter commands take advantage of the \u003ca href=\"https://vim.fandom.com/wiki/Jumping_to_previously_visited_locations\"\u003ejumplist\u003c/a\u003e which contains all cursor \u003cem\u003ejumps\u003c/em\u003e, including inside the same buffer. This is much more powerful than just \"tab switching\" in other editors as you can extremely quicky jump back and forth more precise contexts. Although they are precise, they might take you more time than a simple \u003ccode\u003eCtrl-6\u003c/code\u003e swap-back or than moving away with a quick \u003ccode\u003e:find\u003c/code\u003e or \u003cem\u003efzf\u003c/em\u003e.\u003c/p\u003e\u003c/section\u003e\n\u003csection class=\"doc-section level-2\"\u003e\u003ch3 id=\"_closing_buffers\"\u003eClosing buffers\u003c/h3\u003e\u003cp\u003eIt won‚Äôt cause any trouble to keep any number of buffers open and it is often recommended to keep them open. However, when we mainly rely on \u003ccode\u003eCtrl-o\u003c/code\u003e/\u003ccode\u003eCtrl-i\u003c/code\u003e to navigate, we want to keep the jumplist history clean. So if, for example, a file has been opened by mistake, all what is needed is \u003cstrong\u003e\u003ccode\u003e:bw\u003c/code\u003e\u003c/strong\u003e.\u003c/p\u003e\u003c/section\u003e\u003c/section\u003e\n\u003csection class=\"doc-section level-1\"\u003e\u003ch2 id=\"_windows\"\u003eWindows\u003c/h2\u003e\u003cp\u003eWindows are viewports on a buffer. A single one takes all vim‚Äôs space when launching the editor. Some commands like \u003ccode\u003e:help anything\u003c/code\u003e spawn a new window. \u003ccode\u003e:q\u003c/code\u003e closes current window or the editor when no window remain.\u003c/p\u003e\n\u003cp\u003eWindows allow to split the editor, which can be done manually with \u003ccode\u003e:split\u003c/code\u003e and \u003ccode\u003e:vsplit\u003c/code\u003e. Window-controlling commands are prefixed by \u003ccode\u003e\u0026lt;C-w\u0026gt;\u003c/code\u003e. For example, \u003ccode\u003e\u0026lt;C-w\u0026gt;\u003c/code\u003e followed by a direction focuses the nearest window in that direction.\u003c/p\u003e\n\u003cp\u003eAs I don‚Äôt need editor splits that much, I won‚Äôt get more into details. However I run vim from an instance of tmux which allows to \u003ca href=\"https://github.com/christoomey/vim-tmux-navigator\"\u003eseamlessly navigate across split terminals and vim windows\u003c/a\u003e, i.e. with the same shortcut: \u003ccode\u003e\u0026lt;C\u0026gt;\u003c/code\u003e plus a direction. tmux allows much more and I will write a dedicated article about it.\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003eThat‚Äôs all for file navigation in vim, keeping it \u003cstrong\u003esimple and mouse-free\u003c/strong\u003e! I still recommend to look into \u003ca href=\"https://github.com/junegunn/fzf.vim\"\u003efzf\u003c/a\u003e for fuzzy finding; I bound it to \u003ccode\u003e\u0026lt;C-p\u0026gt;\u003c/code\u003e to speed up file jumps. I also recommend to install \u003ca href=\"https://github.com/BurntSushi/ripgrep\"\u003eripgrep\u003c/a\u003e on your system for recursive directory text searches. \u003cem\u003efzf.vim\u003c/em\u003e automatically picks up on \u003cem\u003eripgrep\u003c/em\u003e and you just need to run \u003ccode\u003e:Rg textOrRegex\u003c/code\u003e to start using it.\u003c/p\u003e\u003c/section\u003e\n\u003csection class=\"doc-section level-1\"\u003e\u003ch2 id=\"_cheatsheet_tldr\"\u003eCheatsheet \u003cem\u003e(tl;dr)\u003c/em\u003e\u003c/h2\u003e\u003cdiv class=\"table-block\"\u003e\u003ctable class=\"frame-all grid-all stretch\"\u003e\u003ccolgroup\u003e\u003ccol style=\"width: 50%;\"\u003e\u003ccol style=\"width: 50%;\"\u003e\u003c/colgroup\u003e\u003cthead\u003e\u003ctr\u003e\u003cth class=\"halign-left valign-top\"\u003eIn buffer\u003c/th\u003e\u003cth class=\"halign-left valign-top\"\u003eAction\u003c/th\u003e\u003c/tr\u003e\u003c/thead\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"halign-left valign-top\"\u003e\u003cstrong\u003e\u003ccode\u003e:find file\u003c/code\u003e\u003c/strong\u003e\u003c/td\u003e\u003ctd class=\"halign-left valign-top\"\u003eOpen \u003ccode\u003efile\u003c/code\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd class=\"halign-left valign-top\"\u003e\u003cstrong\u003e\u003ccode\u003e:find directory\u003c/code\u003e\u003c/strong\u003e\u003c/td\u003e\u003ctd class=\"halign-left valign-top\"\u003eExplore \u003ccode\u003edirectory\u003c/code\u003e\u003cbr\u003e\n                        \u003ccode\u003e:find .\u003c/code\u003e for root directory\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd class=\"halign-left valign-top\"\u003e\u003cstrong\u003e\u003ccode\u003e:find\u003c/code\u003e\u003c/strong\u003e\u003c/td\u003e\u003ctd class=\"halign-left valign-top\"\u003eExplore current file‚Äôs directory\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd class=\"halign-left valign-top\"\u003e\u003cstrong\u003e\u003ccode\u003e\u0026lt;C-6\u0026gt;\u003c/code\u003e\u003c/strong\u003e\u003c/td\u003e\u003ctd class=\"halign-left valign-top\"\u003eSwap with previous buffer\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd class=\"halign-left valign-top\"\u003e\u003cstrong\u003e\u003ccode\u003e\u0026lt;C-o\u0026gt;\u003c/code\u003e\u003c/strong\u003e\u003c/td\u003e\u003ctd class=\"halign-left valign-top\"\u003eJump back\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd class=\"halign-left valign-top\"\u003e\u003cstrong\u003e\u003ccode\u003e\u0026lt;C-i\u0026gt;\u003c/code\u003e\u003c/strong\u003e\u003c/td\u003e\u003ctd class=\"halign-left valign-top\"\u003eJump next\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd class=\"halign-left valign-top\"\u003e\u003cstrong\u003e\u003ccode\u003e:split\u003c/code\u003e\u003c/strong\u003e\u003c/td\u003e\u003ctd class=\"halign-left valign-top\"\u003eSplit horizontally\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd class=\"halign-left valign-top\"\u003e\u003cstrong\u003e\u003ccode\u003e:vsplit\u003c/code\u003e\u003c/strong\u003e\u003c/td\u003e\u003ctd class=\"halign-left valign-top\"\u003eSplit vertically\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd class=\"halign-left valign-top\"\u003e\u003cstrong\u003e\u003ccode\u003e\u0026lt;C-w\u0026gt; direction\u003c/code\u003e\u003c/strong\u003e\u003c/td\u003e\u003ctd class=\"halign-left valign-top\"\u003eFocus nearest window\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd class=\"halign-left valign-top\"\u003e\u003cstrong\u003e\u003ccode\u003e:bw\u003c/code\u003e\u003c/strong\u003e\u003c/td\u003e\u003ctd class=\"halign-left valign-top\"\u003eClose buffer\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd class=\"halign-left valign-top\"\u003e\u003cstrong\u003e\u003ccode\u003e:q\u003c/code\u003e\u003c/strong\u003e\u003c/td\u003e\u003ctd class=\"halign-left valign-top\"\u003eClose window\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd class=\"halign-left valign-top\"\u003e\u003cstrong\u003e\u003ccode\u003e:help anything\u003c/code\u003e\u003c/strong\u003e\u003c/td\u003e\u003ctd class=\"halign-left valign-top\"\u003eOpens related help in a new window. Often more efficient than searching the internet!\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/div\u003e\n\u003cdiv class=\"table-block\"\u003e\u003ctable class=\"frame-all grid-all stretch\"\u003e\u003ccolgroup\u003e\u003ccol style=\"width: 50%;\"\u003e\u003ccol style=\"width: 50%;\"\u003e\u003c/colgroup\u003e\u003cthead\u003e\u003ctr\u003e\u003cth class=\"halign-left valign-top\"\u003eIn \u003cem\u003enetrw\u003c/em\u003e\u003c/th\u003e\u003cth class=\"halign-left valign-top\"\u003eAction\u003c/th\u003e\u003c/tr\u003e\u003c/thead\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"halign-left valign-top\"\u003e\u003cstrong\u003e\u003ccode\u003ei\u003c/code\u003e\u003c/strong\u003e\u003c/td\u003e\u003ctd class=\"halign-left valign-top\"\u003eChange layout\u003cbr\u003e\n               \u003cem\u003elist \u0026gt; details \u0026gt; ls \u0026gt; tree\u003c/em\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd class=\"halign-left valign-top\"\u003e\u003cstrong\u003e\u003ccode\u003e%\u003c/code\u003e\u003c/strong\u003e\u003c/td\u003e\u003ctd class=\"halign-left valign-top\"\u003eNew file\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd class=\"halign-left valign-top\"\u003e\u003cstrong\u003e\u003ccode\u003ed\u003c/code\u003e\u003c/strong\u003e\u003c/td\u003e\u003ctd class=\"halign-left valign-top\"\u003eNew directory\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd class=\"halign-left valign-top\"\u003e\u003cstrong\u003e\u003ccode\u003eR\u003c/code\u003e\u003c/strong\u003e\u003c/td\u003e\u003ctd class=\"halign-left valign-top\"\u003eRename file\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd class=\"halign-left valign-top\"\u003e\u003cstrong\u003e\u003ccode\u003eD\u003c/code\u003e\u003c/strong\u003e\u003c/td\u003e\u003ctd class=\"halign-left valign-top\"\u003eDelete file\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/div\u003e\n\u003cdiv class=\"table-block\"\u003e\u003ctable class=\"frame-all grid-all stretch\"\u003e\u003ccolgroup\u003e\u003ccol style=\"width: 50%;\"\u003e\u003ccol style=\"width: 50%;\"\u003e\u003c/colgroup\u003e\u003cthead\u003e\u003ctr\u003e\u003cth class=\"halign-left valign-top\"\u003eWith plugins\u003c/th\u003e\u003cth class=\"halign-left valign-top\"\u003eAction\u003c/th\u003e\u003c/tr\u003e\u003c/thead\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"halign-left valign-top\"\u003e\u003cstrong\u003e\u003ccode\u003e\u0026lt;C-p\u0026gt;\u003c/code\u003e\u003c/strong\u003e\u003c/td\u003e\u003ctd class=\"halign-left valign-top\"\u003eOpen \u003ca href=\"https://github.com/junegunn/fzf.vim\"\u003efzf\u003c/a\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd class=\"halign-left valign-top\"\u003e\u003cstrong\u003e\u003ccode\u003e\u0026lt;C-direction\u0026gt;\u003c/code\u003e\u003c/strong\u003e\u003c/td\u003e\u003ctd class=\"halign-left valign-top\"\u003eFocus nearest window or \u003cem\u003etmux\u003c/em\u003e pane\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd class=\"halign-left valign-top\"\u003e\u003cstrong\u003e\u003ccode\u003e:Rg textOrRegex\u003c/code\u003e\u003c/strong\u003e\u003c/td\u003e\u003ctd class=\"halign-left valign-top\"\u003eRecursive text search with \u003ca href=\"https://github.com/BurntSushi/ripgrep\"\u003eripgrep\u003c/a\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/div\u003e\u003c/section\u003e","categories":["dev"]},{"date":"2020-02-08","slug":"making-music-programmable-again","lang":"en","title":"Making music programmable again","html":"\u003csection id=\"preamble\" aria-label=\"Preamble\"\u003e\u003cp\u003eFor adepts of retro-gaming who have some foundation in music, retro-gaming music is a nice area to dig into: it has restrictive musicality, which enables to focus on composition and strong auditive identity.\nBut after weeks or even months of research, I came to realize how sub-developed music synthesis could be in interactive systems like video games.\u003c/p\u003e\n\u003cp\u003eThis article gives some context about how music used to be made in video games,\nhow game music composition evolved over the years,\nand eventually opens some doors to new creative horizons.\u003c/p\u003e\u003c/section\u003e\u003cnav id=\"toc\" class=\"toc\" role=\"doc-toc\"\u003e\u003ch2 id=\"toc-title\"\u003eSummary\u003c/h2\u003e\u003col class=\"toc-list level-1\"\u003e\u003cli\u003e\u003ca href=\"#_game_music_in_the_90s\"\u003eGame music in the 90‚Äôs\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"#_modern_music_composition\"\u003eModern music composition\u003c/a\u003e\u003col class=\"toc-list level-2\"\u003e\u003cli\u003e\u003ca href=\"#_synthesis_from_midi\"\u003eSynthesis from MIDI\u003c/a\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"#_dynamic_music_synthesis_in_2020\"\u003eDynamic music synthesis in 2020?\u003c/a\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/nav\u003e\n\u003csection class=\"doc-section level-1\"\u003e\u003ch2 id=\"_game_music_in_the_90s\"\u003eGame music in the 90‚Äôs\u003c/h2\u003e\u003cp\u003eRetro games used to synthesize sound on-the-go by the device‚Äôs sound chip or card. This is why retro game music is often referred as \u003cstrong\u003echiptune\u003c/strong\u003e.\nMany artists \u003ca href=\"http://battleofthebits.org/\"\u003estill compose chiptune nowadays\u003c/a\u003e - maybe because nostalgia, or maybe because chiptune focuses on composition rather than picking and tweaking instruments, effects and mastering.\nAnyhow, it‚Äôs an amazing discipline for the hobbyist composer!\u003c/p\u003e\n\u003cfigure class=\"audio-block\"\u003e\u003caudio src=\"/res/audio/flamerepellent-sunvox.ogg\" controls=\"\"\u003eYour browser does not support the audio tag.\u003c/audio\u003e\n\u003cfigcaption\u003eQuick copycat I made based off \u003ca href=\"https://fearofdark.bandcamp.com/album/the-coffee-zone\"\u003eFearofdark‚Äôs amazing work ‚ù§Ô∏è\u003c/a\u003e\u003c/figcaption\u003e\u003c/figure\u003e\n\u003cp\u003eChiptune is often composed with a \u003cem\u003etracker\u003c/em\u003e.\nIn a tracker, audio channels are explicitly separated across vertical \u003cstrong\u003etracks\u003c/strong\u003e, notes are textually sequenced and can each have its own \u003cstrong\u003einstrument\u003c/strong\u003e and receive a variety of effects.\nTrackers are here to allow composition while enforcing control over audio channels.\u003c/p\u003e\n\u003cfigure class=\"image-block\"\u003e\u003cimg src=\"/img/FastTracker2.png\" alt=\"FastTracker2 screenshot\"\u003e\n\u003cfigcaption\u003eFastTracker 2, a DOS music tracker\u003c/figcaption\u003e\u003c/figure\u003e\n\u003cp\u003eAlthough many claim the benefits of the tracker layout because of its compactness, I still think it‚Äôs rather outdated and prevents picturing the music well. The main alternative layout, the \u003cstrong\u003epiano roll\u003c/strong\u003e, comes closer to music sheets which are the standard of music composition. Notes can intuitively be spanned across time, and music layers can be \"drawn\".\u003c/p\u003e\n\u003cfigure class=\"image-block\"\u003e\u003cimg src=\"/img/LMMS_PianoRoll.png\" alt=\"LMMS screenshot\"\u003e\n\u003cfigcaption\u003ePiano roll in LMMS\u003c/figcaption\u003e\u003c/figure\u003e\n\u003cp\u003ePiano rolls are an essential component of many modern \u003ca href=\"https://en.wikipedia.org/wiki/Digital_audio_workstation\"\u003eDigital Audio Workstations (DAW)\u003c/a\u003e. Although more visual than trackers, different piano rolls might have many varying features between each other, whereas all trackers are mostly the same.\nThis has an impact on \u003cstrong\u003ehow little standard piano roll based DAWs\u003c/strong\u003e are.\u003c/p\u003e\n\u003cp\u003eMost trackers produce \u003ca href=\"https://en.wikipedia.org/wiki/Module_file\"\u003e\u003cstrong\u003emodule files\u003c/strong\u003e\u003c/a\u003e. These files basically separate the \u003cstrong\u003einstruments\u003c/strong\u003e from the \u003cstrong\u003enotes\u003c/strong\u003e and \u003cstrong\u003eeffects\u003c/strong\u003e.\nA consequence from separating the instruments' sound data is that the module file is usually \u003cstrong\u003emuch smaller\u003c/strong\u003e than raw audio data.\nMoreover, isolating instruments formalizes the identity of the music‚Äôs sounds. It‚Äôs a bit like picking an orchestra!\u003c/p\u003e\n\u003cp\u003eWhile I love the \u003cem\u003emodule\u003c/em\u003e format, there are still issues:\u003c/p\u003e\n\u003cdiv class=\"ulist\"\u003e\u003cul\u003e\u003cli\u003eEach module file contains its own orchestra\u003c/li\u003e\u003cli\u003eThere are many module formats\u003c/li\u003e\u003cli\u003eNo module format is close to being standard\u003c/li\u003e\u003c/ul\u003e\u003c/div\u003e\n\u003cp\u003eBecause of these, I don‚Äôt see any significant advantage in using module files in video games. Instead, there must be some sort of standard in order to separate instruments from music‚Ä¶‚Äã\u003c/p\u003e\u003c/section\u003e\n\u003csection class=\"doc-section level-1\"\u003e\u003ch2 id=\"_modern_music_composition\"\u003eModern music composition\u003c/h2\u003e\u003cp\u003eModern video game music seems to have converged with regular \"song\" music along with the evolution of DAWs.\nMost games embed compressed raw audio data and it makes sense for most game dev studios that have a dedicated musicians.\u003c/p\u003e\n\u003cp\u003eProducing raw audio gives maximum flexibility in creation: the musician can use and endless variety of instruments, effects, filters, mixes‚Ä¶‚Äã On top of that, raw audio is very easy to play in the game itself and is, of course, standard.\u003c/p\u003e\n\u003cp\u003eHowever, for the indie game developer who wants super-dynamic music progressions, for the hobbyist who doesn‚Äôt master music that well, or for the studio who wants to enforce strong auditive identity in a game as lean as possible: they have reasons to be frustrated.\u003c/p\u003e\n\u003cp\u003eIndeed, in a developer‚Äôs mind: why not \u003cstrong\u003emaking music programmatic\u003c/strong\u003e? Graphics can easily be, so why not music?\u003c/p\u003e\n\u003cp\u003eThere is a standard for having instruments communicate together and with computers: \u003ca href=\"https://en.wikipedia.org/wiki/MIDI\"\u003e\u003cstrong\u003eMIDI\u003c/strong\u003e\u003c/a\u003e. Instead of transferring raw audio, the MIDI protocol consists in transferring \u003cstrong\u003esimpler abstract signals\u003c/strong\u003e that will be interpretated according to the receiver. For instance, a MIDI signal can consist of a note with a certain velocity, and the next signal most probably is the release of this note (note off). In this scenario, the same MIDI signals can trigger a very loud note with an echo, a quiet sharp note or even be interpretated as VJ lighting changes!\u003c/p\u003e\n\u003cp\u003eMIDI is the standard abstraction layer for digital music. Signals can be realtime or can be stored in a \u003cem\u003e.mid\u003c/em\u003e file (called \u003cem\u003eStandard MIDI File\u003c/em\u003e or \u003cstrong\u003eSMF\u003c/strong\u003e). This gives us strong hopes for programmatic music! Provided a sound synthesis library, lightweight signals can become music.\u003c/p\u003e\n\u003csection class=\"doc-section level-2\"\u003e\u003ch3 id=\"_synthesis_from_midi\"\u003eSynthesis from MIDI\u003c/h3\u003e\u003cp\u003eMIDI now looks like an obvious choice for standard programmatic music.\nHowever I had a hard time finding how to actually play it back from a game.\nMost music learning resources and artists point to proprietary solutions, formats, which work for raw audio but removes programmatic freedom.\u003c/p\u003e\n\u003cfigure class=\"image-block\"\u003e\u003cimg src=\"/img/Polyphone.png\" alt=\"Polyphone screenshot\"\u003e\n\u003cfigcaption\u003eThe Polyphone SoundFont editor\u003c/figcaption\u003e\u003c/figure\u003e\n\u003cp\u003eThe best solutions I found so far rely on \u003ca href=\"https://en.wikipedia.org/wiki/SoundFont\"\u003e\u003cstrong\u003eSoundFonts\u003c/strong\u003e\u003c/a\u003e. Despite being non-standard, they are a well-accepted format to define a \u003cstrong\u003ebank of instruments\u003c/strong\u003e.\nThere are some great pieces of software that make great use of SoundFonts for our purpose, notably:\u003c/p\u003e\n\u003cdiv class=\"ulist\"\u003e\u003cul\u003e\u003cli\u003e\u003ca href=\"https://github.com/freeors/SDL/blob/master/SDL2_mixer-2.0.1/timidity/timidity.c\"\u003eTiMidity\u003c/a\u003e, a basic midi player originally written for SDL back in the days (1995). It evolved into its separate repositories and can be used as a library, but is very limited\u003c/li\u003e\u003cli\u003e\u003ca href=\"https://github.com/FluidSynth/fluidsynth\"\u003eFluidSynth\u003c/a\u003e, a MIDI synthesis library specifically made to work with SoundFonts and play the music itself. FluidSynth is also easily embeddable in DAWs though a \u003ca href=\"https://en.wikipedia.org/wiki/Virtual_Studio_Technology\"\u003eVST\u003c/a\u003e\u003c/li\u003e\u003c/ul\u003e\u003c/div\u003e\n\u003cp\u003eThese libraries are amazing tracks to get started! But I‚Äôm still astonished by the small enthusiasm they grab.\nA consequence of this is how hard it is to leverage the whole capabilities of FluidSynth in a DAW: most DAWs have their own way to manage effects and thus don‚Äôt allow to export those as standard MIDI.\nMoreover, even if \u003cstrong\u003eMIDI+Soundfont\u003c/strong\u003e looks like a \"standard\" combo, I don‚Äôt know any good DAW that allows both MIDI composing and SoundFont creation/edition at the same time.\u003c/p\u003e\u003c/section\u003e\u003c/section\u003e\n\u003csection class=\"doc-section level-1\"\u003e\u003ch2 id=\"_dynamic_music_synthesis_in_2020\"\u003eDynamic music synthesis in 2020?\u003c/h2\u003e\u003cp\u003eNow we reach the point of many wonders. It seems like great music technologies from the 90‚Äôs still exist but haven‚Äôt reached their full potential.\nThis didn‚Äôt prevent music itself to evolve, but what about the way music is used interactively?\nThere are countless video games out there, and aside massive franchises, very few are known for their music.\nWorse than that: there are so few music games or games that integrate music as part of the gameplay.\u003c/p\u003e\n\u003cp\u003eDespite incredible technology evolutions, I feel like a whole dimension is missing from game development nowadays.\nFor hobbyists, music creativity should be as accessible as visual arts.\nMusic-rich games should be able to fit on a cartridge or a floppy disk like back in the days and should have a well-defined auditive identity.\u003c/p\u003e\n\u003cp\u003eIf this article resonates with you too, feel free to share, \u003ca href=\"https://twitter.com/ngasull/status/1228238628729409536\"\u003etweet\u003c/a\u003e or \u003ca href=\"/about#contact-me\"\u003ereach out to me\u003c/a\u003e and I‚Äôll be happy to know what you think and what we can do üôÇ I really believe that the creative community deserves better!\u003c/p\u003e\u003c/section\u003e","categories":["music","gamedev"]}]},"__N_SSG":true},"page":"/","query":{},"buildId":"ove7atG6cNxhZsWdZj6EC","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>